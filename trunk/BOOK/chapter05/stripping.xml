<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.4//EN" "http://www.oasis-open.org/docbook/xml/4.4/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../general.ent">
  %general-entities;
]>
<sect1 id="ch-tools-stripping">
<title>Stripping</title>
<?dbhtml filename="stripping.html"?>

<para>The steps in this section are optional, but if the LFS partition
is rather small, it is beneficial to learn that unnecessary items can
be removed. The executables and libraries built so far contain about
130 MB of unneeded debugging symbols. Remove those symbols
with:</para>

<screen><userinput>strip --strip-debug /tools/lib/*
strip --strip-unneeded /tools/{,s}bin/*</userinput></screen>

<para>The last of the above commands will skip some twenty files,
reporting that it does not recognize their file format. Most of these
are scripts instead of binaries.</para>

<para>Take care <emphasis>not</emphasis> to use
<parameter>--strip-unneeded</parameter> on the libraries.  The static
ones would be destroyed and the toolchain packages would need to be
built all over again.</para>

<para>To save another 30 MB, remove the documentation:</para>

<screen><userinput>rm -rf /tools/{doc,info,man}</userinput></screen>

<para>There will now be at least 850 MB of free space on the LFS file
system that can be used to build and install Glibc in the next phase.
If you can build and install Glibc, you can build and install the rest
too.</para>

</sect1>

