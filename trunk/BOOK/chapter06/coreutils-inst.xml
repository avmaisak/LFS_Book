<sect2><title>&nbsp;</title><para>&nbsp;</para></sect2>

<sect2>
<title>Installation of Coreutils</title>

<para>Normally the functionality of uname is somewhat broken, in that
the -p switch always returns "unknown". This patch fixes that behaviour
for Intel architectures:</para>

<para><screen><userinput>patch -Np1 -i ../coreutils-&coreutils-uname-patch-version;.patch</userinput></screen></para>

<para>We do not want Coreutils to install it's version of the hostname
binary, because it is inferior to the version provided by Net-tools.
Prevent the installation of hostname with this patch:</para>

<para><screen><userinput>patch -Np1 -i ../coreutils-&coreutils-hostname-patch-version;.patch</userinput></screen></para>

<para>Prepare Coreutils to be compiled:</para>

<para><screen><userinput>./configure --prefix=/usr</userinput></screen></para>

<para>Continue with compiling the package:</para>

<para><screen><userinput>make</userinput></screen></para>

<para><screen><userinput>make check-root
make RUN_EXPENSIVE_TESTS=yes check</userinput></screen></para>

<para>Install the package:</para>

<para><screen><userinput>make install</userinput></screen></para>

<para>Move files to their proper locations:</para>

<para><screen><userinput>mv /usr/bin/{basename,cat,chgrp,chmod,chown,cp,dd,df} /bin
mv /usr/bin/{dir,dircolors,du,date,echo,false,head} /bin
mv /usr/bin/{install,ln,ls,mkdir,mkfifo,mknod,mv,pwd} /bin
mv /usr/bin/{rm,rmdir,shred,sync,sleep,stty,su,test} /bin
mv /usr/bin/{touch,true,uname,vdir} /bin
mv /usr/bin/chroot /usr/sbin</userinput></screen></para>

<para>Finally, create a few necessary symlinks:</para>

<para><screen><userinput>ln -s test /bin/[
ln -s ../../bin/install /usr/bin</userinput></screen></para>

</sect2>

