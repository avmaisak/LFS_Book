<sect2><title>&nbsp;</title><para>&nbsp;</para></sect2>

<sect2>
<title>Installation of Man</title>

<para>We'll make three adjustments to the sources of Man.</para>
 
<para>The first patch comments out the "MANPATH /usr/man" line in the
<filename>man.conf</filename> file to prevent redundant results when using
 programs such as <userinput>whatis</userinput>:</para>

<para><screen><userinput>patch -Np1 -i ../man-&man-manpath-patch-version;-manpath.patch</userinput></screen></para>

<para>The second patch adds the <emphasis>-R</emphasis> option to the
<emphasis>PAGER</emphasis> variable so that escape sequences are
handled properly:</para>

<para><screen><userinput>patch -Np1 -i ../man-&man-pager-patch-version;-pager.patch</userinput></screen></para>

<para>The third and last patch prevents a problem when man pages not formatted
with more than 80 columns are used in conjunction with recent releases of
<userinput>groff</userinput>:</para>

<para><screen><userinput>patch -Np1 -i ../man-&man-80cols-patch-version;-80cols.patch</userinput></screen></para>

<para>The paths to some programs are hard-wired into Man's executables.
Unfortunately, the configuration script picks the last location in PATH
rather than the first place a program is found. By appending
<emphasis>/usr/bin:/bin</emphasis> to PATH for the
<userinput>./configure</userinput> command, we ensure that Man doesn't
use the programs in the <filename class="directory">/tools</filename>
directory.</para>

<para>Now prepare Man for compilation:</para>

<para><screen><userinput>PATH=$PATH:/usr/bin:/bin ./configure -default -confdir=/etc</userinput></screen></para>

<para>The meaning of the configure options:</para>

<itemizedlist>
<listitem><para><userinput>-default</userinput>: This tells the configure script
to select a sensible set of default options. For example: only English man
pages, no message catalogs, man not suid, handle compressed man pages, compress
cat pages, create cat pages whenever the appropriate directory exists, follow
FHS by putting cat pages under /var/cache/man provided that that directory
exists.</para></listitem>

<listitem><para><userinput>-confdir=/etc</userinput>: This tells the
<userinput>man</userinput> program to look for the <filename>man.conf</filename>
configuration file in the <filename>/etc</filename> directory.</para></listitem>
</itemizedlist>

<para>Compile the package:</para>

<para><screen><userinput>make</userinput></screen></para>

<para>And install it:</para>

<para><screen><userinput>make install</userinput></screen></para>

<note><para>If you wish to disable SGR escape sequences, you should
edit the man.conf file and add the <userinput>-c</userinput> argument
to nroff.</para></note>

<para>You may want to also take a look at the BLFS book which deals with 
formatting and compression issues for man pages.</para>

</sect2>

