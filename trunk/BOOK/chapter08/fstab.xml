<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.4//EN" "http://www.oasis-open.org/docbook/xml/4.4/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../general.ent">
  %general-entities;
]>
<sect1 id="ch-bootable-fstab">
<title>Creating the /etc/fstab File</title>
<?dbhtml filename="fstab.html"?>

<indexterm zone="ch-bootable-fstab"><primary sortas="e-/etc/fstab">/etc/fstab</primary></indexterm>

<para>The <filename>/etc/fstab</filename> file is used by some
programs to determine where file systems are to be mounted by default,
which must be checked, and in which order. Create a new file systems
table like this:</para>

<screen><userinput>cat &gt; /etc/fstab &lt;&lt; "EOF"
<literal># Begin /etc/fstab

# file system  mount-point  type   options         dump  fsck
#                                                        order

/dev/<replaceable>[xxx]</replaceable>     /            <replaceable>[fff]</replaceable>  defaults        1     1
/dev/<replaceable>[yyy]</replaceable>     swap         swap   pri=1           0     0
proc           /proc        proc   defaults        0     0
sysfs          /sys         sysfs  defaults        0     0
devpts         /dev/pts     devpts gid=2,mode=620  0     0
shm            /dev/shm     tmpfs  defaults        0     0
# End /etc/fstab</literal>
EOF</userinput></screen>

<para>Replace <replaceable>[xxx]</replaceable>,
<replaceable>[yyy]</replaceable>, and <replaceable>[fff]</replaceable>
with the values appropriate for the system, for example, <filename
class="partition">hda2</filename>, <filename
class="partition">hda5</filename>, and <systemitem
class="filesystem">ext2</systemitem>. For details on the six
fields in this file, see <command>man 5 fstab</command>.</para>

<para>When using a journalling file system, the <parameter>1
1</parameter> at the end of the line should be replaced with
<parameter>0 0</parameter> because such a partition does not need to
be dumped or checked.</para>

<para>The <filename class="directory">/dev/shm</filename> mount point
for <systemitem class="filesystem">tmpfs</systemitem> is included to
allow enabling POSIX-shared memory. The kernel must have the required
support built into it for this to work (more about this is in the next
section). Please note that very little software currently uses
POSIX-shared memory.  Therefore, consider the <filename
class="directory">/dev/shm</filename> mount point optional. For more
information, see
<filename>Documentation/filesystems/tmpfs.txt</filename> in the kernel
source tree.</para>

<para>There are other lines which may be added to the
<filename>/etc/fstab</filename> file. One example is a line for USB
devices:</para>

<screen>usbfs        /proc/bus/usb usbfs   devgid=14,devmode=0660 0 0 </screen>

<para>This option will only work if <quote>Support for Host-side
USB</quote> and <quote>USB device filesystem</quote> are compiled into
the kernel (not as a module).</para>

</sect1>

