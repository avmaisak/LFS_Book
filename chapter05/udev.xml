<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.3//EN" "http://www.oasis-open.org/docbook/xml/4.3/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../general.ent">
  %general-entities;
]>
<sect1 id="ch-tools-udev" role="wrap">
<title>Udev-&udev-version;</title>
<?dbhtml filename="udev.html"?>

<indexterm zone="ch-tools-udev">
<primary sortas="a-Udev">Udev</primary>
<secondary>tools</secondary></indexterm>

<sect2 role="package"><title/>
<!--
<xi:include xmlns:xi="http://www.w3.org/2003/XInclude" href="../chapter06/udev.xml" xpointer="xpointer(/sect1/sect2[1]/para[1])"/>
 -->

<segmentedlist>
<segtitle>&buildtime;</segtitle>
<segtitle>&diskspace;</segtitle>
<seglistitem><seg>0.2 SBU</seg><seg>5.2 MB</seg></seglistitem>
</segmentedlist>

<!--
<xi:include xmlns:xi="http://www.w3.org/2003/XInclude" href="../chapter06/udev.xml" xpointer="xpointer(/sect1/sect2[1]/segmentedlist[2])"/>
 -->

</sect2>

<sect2 role="installation">
<title>Installation of Udev</title>

<para>By default, the permissions udev assigns to nodes are all uniform,
being owned by user root, group root, and only accessible to root. As you
can easily imagine, this isn't ideal. Give it a much better configuration
by applying the following patch:</para>

<screen><userinput>patch -Np1 -i ../udev-&udev-version;-config-1.patch
</userinput></screen>

<para>The udevstart program hardcodes the path to the udev program in itself,
which is bad since we install udev in a non-standard location. Fix this by
running the following:</para>

<screen><userinput>sed -i 's:\/sbin\/udev:/tools&amp;:' udevstart.c</userinput></screen>

<para>Also assure that udev knows the correct location to look for its
configuration files:</para>

<screen><userinput>sed -i 's:\/etc:/tools&amp;:' etc/udev/udev.conf.in</userinput></screen>

<para>Now compile Udev:</para>

<screen><userinput>make prefix=/tools etcdir=/tools/etc</userinput></screen>

<para>Generate Udev's main configuration file:</para>

<screen><userinput>make udevdir=/dev etc/udev/udev.conf</userinput></screen>

<para>And install finally install it:</para>

<screen><userinput>make DESTDIR=/tools install</userinput></screen>

</sect2>

<sect2 role="content"><title/>
<para>The details on this package are found in <xref linkend="contents-udev"/>.</para>
</sect2>

</sect1>
