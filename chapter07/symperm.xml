<sect1 id="ch07-symperm">
<title>Setting up symlinks and permissions</title>

<para>
These files get the proper permissions and the necessary symlinks are created
by running the following commands. If you didn't create the loadkeys
and setclock scripts, make sure not to type them in the commands below.
</para>

<para>
A note of caution: all the symlinks (that start with an S or K) have to
be of the form Sxxxname where xxx are three digits donating the order in
which the script is executed (the lower the number the sooner it's
executed). If you feel a need to use less than three digits, make sure
you pad with extra zero's at the beginning. This means, don't use
S20mydaemon, but S020mydaemon. And don't use K2otherdaemon, but
K002otherdaemon.
</para>

<para>
Revised rc and rcS scripts are on their way, but we had no time to
properly test them for this release. They will appear in CVS shortly
after this version of the book has been released.
</para>

<blockquote><literallayout>
	<userinput>cd /etc/init.d &amp;&amp;</userinput>
	<userinput>chmod 754 rc rcS functions checkfs halt loadkeys mountfs 
		reboot &amp;&amp;</userinput>
	<userinput>chmod 754 sendsignals setclock sysklogd template 
		&amp;&amp;</userinput>
	<userinput>cd ../rc0.d &amp;&amp;</userinput>
	<userinput>ln -s ../init.d/sysklogd K900sysklogd &amp;&amp;</userinput>
	<userinput>ln -s ../init.d/sendsignals S800sendsignals &amp;&amp;
		</userinput>
	<userinput>ln -s ../init.d/mountfs S900mountfs &amp;&amp;</userinput>
	<userinput>ln -s ../init.d/halt S999halt &amp;&amp;</userinput>
	<userinput>cd ../rc6.d &amp;&amp;</userinput>
	<userinput>ln -s ../init.d/sysklogd K900sysklogd &amp;&amp;</userinput>
	<userinput>ln -s ../init.d/sendsignals S800sendsignals &amp;&amp;
		</userinput>
	<userinput>ln -s ../init.d/mountfs S900mountfs &amp;&amp;</userinput>
	<userinput>ln -s ../init.d/reboot S999reboot &amp;&amp;</userinput>
	<userinput>cd ../rcS.d &amp;&amp;</userinput>
	<userinput>ln -s ../init.d/checkfs S200checkfs &amp;&amp;</userinput>
	<userinput>ln -s ../init.d/mountfs S300mountfs &amp;&amp;</userinput>
	<userinput>ln -s ../init.d/setclock S400setclock &amp;&amp;</userinput>
	<userinput>ln -s ../init.d/loadkeys S500loadkeys &amp;&amp;</userinput>
	<userinput>cd ../rc1.d &amp;&amp;</userinput>
	<userinput>ln -s ../init.d/sysklogd K900sysklogd &amp;&amp;</userinput>
	<userinput>cd ../rc2.d &amp;&amp;</userinput>
	<userinput>ln -s ../init.d/sysklogd S100sysklogd &amp;&amp;</userinput>
	<userinput>cd ../rc3.d &amp;&amp;</userinput>
	<userinput>ln -s ../init.d/sysklogd S100sysklogd &amp;&amp;</userinput>
	<userinput>cd ../rc4.d &amp;&amp;</userinput>
	<userinput>ln -s ../init.d/sysklogd S100sysklogd &amp;&amp;</userinput>
	<userinput>cd ../rc5.d &amp;&amp;</userinput>
	<userinput>ln -s ../init.d/sysklogd S100sysklogd</userinput>
</literallayout></blockquote>

</sect1>

